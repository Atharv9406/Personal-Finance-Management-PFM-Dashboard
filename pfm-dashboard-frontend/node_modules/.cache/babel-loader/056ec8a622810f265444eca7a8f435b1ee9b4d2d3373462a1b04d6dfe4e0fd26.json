{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vishw\\\\Downloads\\\\PFM Dashboard\\\\PFM Dashboard\\\\pfm-dashboard-frontend\\\\src\\\\components\\\\BudgetPage.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BudgetPage({\n  jwt\n}) {\n  _s();\n  const [rows, setRows] = useState([]);\n  const [category, setCategory] = useState('Food');\n  const [limit, setLimit] = useState(5000);\n  const load = async () => {\n    const res = await fetch('/api/budgets', {\n      headers: {\n        Authorization: `Bearer ${jwt}`\n      }\n    });\n    const data = await res.json();\n    setRows(data.rows || []);\n  };\n  const save = async () => {\n    await fetch('/api/budgets', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${jwt}`\n      },\n      body: JSON.stringify({\n        category,\n        monthlyLimit: Number(limit)\n      })\n    });\n    await load();\n  };\n  const del = async c => {\n    await fetch(`/api/budgets/${encodeURIComponent(c)}`, {\n      method: 'DELETE',\n      headers: {\n        Authorization: `Bearer ${jwt}`\n      }\n    });\n    await load();\n  };\n  useEffect(() => {\n    if (jwt) load();\n  }, [jwt]);\n  if (!jwt) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Login first.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 20\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'grid',\n      gap: 10\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: category,\n        onChange: e => setCategory(e.target.value),\n        placeholder: \"Category\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: limit,\n        onChange: e => setLimit(e.target.value),\n        placeholder: \"Monthly Limit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: save,\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      style: {\n        width: '100%',\n        borderCollapse: 'collapse'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            align: \"left\",\n            children: \"Category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            align: \"right\",\n            children: \"Monthly Limit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 50\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 86\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 16\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [rows.map(r => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: r.category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            align: \"right\",\n            children: r.monthlyLimit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => del(r.category),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 15\n          }, this)]\n        }, r._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this)), !rows.length && /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: \"3\",\n            children: \"No budgets yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 32\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n_s(BudgetPage, \"OXeXtnelxgLRTmgQrn8UnEiqC9E=\");\n_c = BudgetPage;\nvar _c;\n$RefreshReg$(_c, \"BudgetPage\");","map":{"version":3,"names":["useEffect","useState","jsxDEV","_jsxDEV","BudgetPage","jwt","_s","rows","setRows","category","setCategory","limit","setLimit","load","res","fetch","headers","Authorization","data","json","save","method","body","JSON","stringify","monthlyLimit","Number","del","c","encodeURIComponent","children","fileName","_jsxFileName","lineNumber","columnNumber","style","display","gap","value","onChange","e","target","placeholder","type","onClick","width","borderCollapse","align","map","r","_id","length","colSpan","_c","$RefreshReg$"],"sources":["C:/Users/vishw/Downloads/PFM Dashboard/PFM Dashboard/pfm-dashboard-frontend/src/components/BudgetPage.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\n\r\nexport default function BudgetPage({ jwt }) {\r\n  const [rows, setRows] = useState([]);\r\n  const [category, setCategory] = useState('Food');\r\n  const [limit, setLimit] = useState(5000);\r\n\r\n  const load = async () => {\r\n    const res = await fetch('/api/budgets', { headers: { Authorization: `Bearer ${jwt}` } });\r\n    const data = await res.json();\r\n    setRows(data.rows || []);\r\n  };\r\n\r\n  const save = async () => {\r\n    await fetch('/api/budgets', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type':'application/json', Authorization: `Bearer ${jwt}` },\r\n      body: JSON.stringify({ category, monthlyLimit: Number(limit) })\r\n    });\r\n    await load();\r\n  };\r\n\r\n  const del = async (c) => {\r\n    await fetch(`/api/budgets/${encodeURIComponent(c)}`, { method: 'DELETE', headers: { Authorization: `Bearer ${jwt}` } });\r\n    await load();\r\n  };\r\n\r\n  useEffect(() => { if(jwt) load(); }, [jwt]);\r\n  if (!jwt) return <p>Login first.</p>;\r\n\r\n  return (\r\n    <div style={{ display:'grid', gap:10 }}>\r\n      <div style={{ display:'flex', gap:8 }}>\r\n        <input value={category} onChange={e=>setCategory(e.target.value)} placeholder=\"Category\"/>\r\n        <input type=\"number\" value={limit} onChange={e=>setLimit(e.target.value)} placeholder=\"Monthly Limit\"/>\r\n        <button onClick={save}>Save</button>\r\n      </div>\r\n\r\n      <table style={{ width:'100%', borderCollapse:'collapse' }}>\r\n        <thead><tr><th align=\"left\">Category</th><th align=\"right\">Monthly Limit</th><th></th></tr></thead>\r\n        <tbody>\r\n          {rows.map(r=>(\r\n            <tr key={r._id}>\r\n              <td>{r.category}</td>\r\n              <td align=\"right\">{r.monthlyLimit}</td>\r\n              <td><button onClick={()=>del(r.category)}>Delete</button></td>\r\n            </tr>\r\n          ))}\r\n          {!rows.length && <tr><td colSpan=\"3\">No budgets yet.</td></tr>}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}